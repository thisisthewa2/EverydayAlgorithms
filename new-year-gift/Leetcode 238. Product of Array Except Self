class Solution:
    def productExceptSelf(self, nums: List[int]) -> List[int]:
        p=[]
        n = len(nums)
        left = [0 for i in range(n)]
        right = [0 for i in range(n)]
        p = [0 for i in range(n)]
        left[0] = nums[0]
        right[n-1] = nums[n-1]
        p[0]=1
        p[n-1]=1
        
        for i in range(1,n):
            p[0] *= nums[i]
        for i in range(n-1):
            p[n-1] *=nums[i]
        
        for i in range(n-1):
            left[i+1] = left[i]*nums[i+1]
        
        for i in range(n-1,1,-1):
            right[i-1] = right[i]*nums[i-1]
        
        for i in range(1,n-1):
            p[i] =left[i-1]*right[i+1]
        return p
